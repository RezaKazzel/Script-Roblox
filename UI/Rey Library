-- Rey UI Library
local Library = {}

-- Create Window function
function Library:CreateWindow(title, size)
    local UI = {}
    UI.Window = Instance.new("ScreenGui")
    UI.Window.Name = title
    UI.Window.Parent = game:GetService("CoreGui")
    UI.Window.ResetOnSpawn = false
    
    -- Create main frame
    UI.MainFrame = Instance.new("Frame")
    UI.MainFrame.Size = size
    UI.MainFrame.Position = UDim2.new(0.5, -size.X.Offset / 2, 0.5, -size.Y.Offset / 2)
    UI.MainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    UI.MainFrame.Parent = UI.Window
    
    -- Header Frame
    UI.Header = Instance.new("TextLabel")
    UI.Header.Size = UDim2.new(1, 0, 0, 30)
    UI.Header.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    UI.Header.Text = title
    UI.Header.TextColor3 = Color3.fromRGB(255, 255, 255)
    UI.Header.Font = Enum.Font.GothamBold
    UI.Header.TextSize = 16
    UI.Header.TextXAlignment = Enum.TextXAlignment.Center
    UI.Header.Parent = UI.MainFrame
    
    -- Toggle Button for showing/hiding UI
    UI.ToggleButton = Instance.new("TextButton")
    UI.ToggleButton.Size = UDim2.new(0, 60, 0, 30)
    UI.ToggleButton.Position = UDim2.new(1, -70, 0, 10)
    UI.ToggleButton.BackgroundColor3 = Color3.fromRGB(148, 0, 211)
    UI.ToggleButton.Text = "Toggle"
    UI.ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    UI.ToggleButton.Font = Enum.Font.GothamBold
    UI.ToggleButton.TextSize = 14
    UI.ToggleButton.Parent = UI.Window
    
    -- Function to hide/show window
    function UI:ToggleVisibility()
        UI.MainFrame.Visible = not UI.MainFrame.Visible
    end
    
    UI.ToggleButton.MouseButton1Click:Connect(function()
        UI:ToggleVisibility()
    end)
    
    -- Function to switch pages
    function UI:SwitchPage(page)
        page.Visible = true
    end
    
    -- Add Page
    function UI:AddPage(pageName)
        local page = Instance.new("Frame")
        page.Size = UDim2.new(1, 0, 1, -30)
        page.Position = UDim2.new(0, 0, 0, 30)
        page.BackgroundTransparency = 1
        page.Visible = false
        page.Parent = UI.MainFrame
        
        local label = Instance.new("TextLabel")
        label.Size = UDim2.new(1, 0, 0, 30)
        label.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        label.Text = pageName
        label.TextColor3 = Color3.fromRGB(255, 255, 255)
        label.Font = Enum.Font.GothamBold
        label.TextSize = 16
        label.TextXAlignment = Enum.TextXAlignment.Center
        label.Parent = page
        
        return page
    end
    
    -- Add Button
    function UI:AddButton(buttonText, callback)
        local button = Instance.new("TextButton")
        button.Size = UDim2.new(0, 100, 0, 40)
        button.BackgroundColor3 = Color3.fromRGB(85, 85, 255)
        button.TextColor3 = Color3.fromRGB(255, 255, 255)
        button.Font = Enum.Font.GothamBold
        button.TextSize = 14
        button.Text = buttonText
        button.Parent = UI.MainFrame
        button.MouseButton1Click:Connect(callback)
    end
    
    -- Add Toggle
    function UI:AddToggle(toggleText, defaultValue, callback)
        local toggle = Instance.new("TextButton")
        toggle.Size = UDim2.new(0, 100, 0, 40)
        toggle.BackgroundColor3 = Color3.fromRGB(85, 255, 85)
        toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
        toggle.Font = Enum.Font.GothamBold
        toggle.TextSize = 14
        toggle.Text = toggleText
        toggle.Parent = UI.MainFrame
        toggle.MouseButton1Click:Connect(function()
            callback(not defaultValue)
        end)
    end
    
    -- Add Input Box
    function UI:AddInputBox(inputText, placeholderText, callback)
        local inputBox = Instance.new("TextBox")
        inputBox.Size = UDim2.new(0, 200, 0, 40)
        inputBox.Position = UDim2.new(0.5, -100, 0, 70)
        inputBox.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        inputBox.TextColor3 = Color3.fromRGB(255, 255, 255)
        inputBox.Font = Enum.Font.Gotham
        inputBox.TextSize = 14
        inputBox.Text = placeholderText
        inputBox.Parent = UI.MainFrame
        inputBox.FocusLost:Connect(function()
            callback(inputBox.Text)
        end)
    end
    
    -- Add Dropdown
    function UI:AddDropdown(dropdownText, options, callback)
        local dropdown = Instance.new("TextButton")
        dropdown.Size = UDim2.new(0, 200, 0, 40)
        dropdown.Position = UDim2.new(0.5, -100, 0, 120)
        dropdown.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        dropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
        dropdown.Font = Enum.Font.Gotham
        dropdown.TextSize = 14
        dropdown.Text = dropdownText
        dropdown.Parent = UI.MainFrame
        dropdown.MouseButton1Click:Connect(function()
            local option = options[math.random(1, #options)]
            callback(option)
        end)
    end
    
    -- Add Slider
    function UI:AddSlider(sliderText, minValue, maxValue, defaultValue, callback)
        local slider = Instance.new("TextButton")
        slider.Size = UDim2.new(0, 200, 0, 40)
        slider.Position = UDim2.new(0.5, -100, 0, 170)
        slider.BackgroundColor3 = Color3.fromRGB(128, 128, 255)
        slider.TextColor3 = Color3.fromRGB(255, 255, 255)
        slider.Font = Enum.Font.Gotham
        slider.TextSize = 14
        slider.Text = sliderText
        slider.Parent = UI.MainFrame
        slider.MouseButton1Click:Connect(function()
            callback(math.random(minValue, maxValue))
        end)
    end
    
    return UI
end

return Library
